<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>每日詳情</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>每日記錄</h1>
  <label>我為自己做了什麼？<br><textarea id="actionText"></textarea></label><br>
  <label>情緒狀態：
    <select id="emotion">
      <option value="green">綠色（正向）</option>
      <option value="yellow">黃色（普通）</option>
      <option value="red">紅色（低落）</option>
    </select>
  </label><br>
  <label>類型標記：
    <select id="tag">
      <option value="emotion">情緒日記</option>
      <option value="learning">學習進度</option>
      <option value="money">金錢照顧</option>
    </select>
  </label><br>
  <label>今日金錢照顧自己金額（元）：<input type="number" id="money"></label><br><br>
  <button onclick="saveData()">儲存</button>
  <button onclick="goBack()">返回月曆</button>

  <script>
    const date = new URLSearchParams(window.location.search).get("date");

    function saveData() {
      const record = {
        action: document.getElementById("actionText").value,
        emotion: document.getElementById("emotion").value,
        tag: document.getElementById("tag").value,
        money: document.getElementById("money").value
      };
      localStorage.setItem("record-" + date, JSON.stringify(record));
      alert("已儲存！");
    }

    function goBack() {
      window.location.href = "index.html";
    }
  </script>
</body>
</html>
